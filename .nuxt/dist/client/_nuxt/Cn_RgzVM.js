import{_ as x}from"./CC1ub2MH.js";import{f as y,r as a,g as k,h as M,c,a as e,d as m,t as u,i as o,j as S,k as V,l as A,v as N,m as g,b as T,F as C,n as B,u as D,o as d}from"./Biz5SVmj.js";const j={class:"container"},L={class:"text-black text-2xl mx-1 font-extrabold relative inline-block stroke-current"},R=e("svg",{class:"absolute-bottom-0.5 w-full max-h-1.5",viewBox:"0 0 55 5",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},[e("path",{d:"M0.652466 4.00002C15.8925 2.66668 48.0351 0.400018 54.6853 2.00002",strokeWidth:"2"})],-1),U=e("p",null," AnonMess is a simple anonymous messaging app that allows other people to send messages to you without revealing identity. ",-1),$={class:"bg-blue-300 p-2 text-black m-2"},F={class:"text-black"},O={class:"w-full md:w-2/3 mx-auto"},E={key:0,class:"bg-green-300 p-2 text-black m-2"},H=e("br",null,null,-1),I=e("button",{class:"mt-4 p-2 bg-black text-white hover:bg-gray-600 w-full",type:"submit"},"Send",-1),J=e("hr",{class:"mt-3 border-1 border-black"},null,-1),K={class:"text-black"},P={class:"text-white"},z=y({__name:"[short]",setup(W){const h=a([]),n=a({}),b=k(),t=a(""),l=a(""),p=a(!1),_=async()=>{const r=await $fetch("/api/anon?method=show&short="+b.params.short);h.value=r.body,n.value=r.anlink,D({title:"Send Anonymous message to "+n.value.author+" ! - JUSTALINKO"})},f=async()=>{if(t.value==""){alert("Message cannot be empty");return}(await $fetch("/api/anon",{method:"POST",headers:{"Content-Type":"application/json"},body:{short:b.params.short,message:t.value,token:l.value}})).statusCode==200&&(p.value=!0,t.value="",await _())};return M(async()=>{await _()}),(r,i)=>{const v=x;return d(),c("div",null,[e("div",j,[e("h2",L,[m("ðŸ’ AnonMess: "+u(o(n).author)+" ",1),R]),U,e("div",$,[m(" Send your anonymous message to "),e("b",F,u(o(n).author),1),m(" by writing in the box below ! ")]),e("div",O,[o(p)?(d(),c("div",E," Message sent successfully ! ")):S("",!0),e("form",{onSubmit:V(f,["prevent"])},[A(e("textarea",{class:"p-2 border-2 border-black w-full h-28 mt-4 focus:border-gray-400 focus:shadow-md hover:border-amber-900","onUpdate:modelValue":i[0]||(i[0]=s=>g(t)?t.value=s:null),placeholder:"Your Message"},null,512),[[N,o(t)]]),H,T(v,{modelValue:o(l),"onUpdate:modelValue":i[1]||(i[1]=s=>g(l)?l.value=s:null)},null,8,["modelValue"]),I],32)]),J,(d(!0),c(C,null,B(o(h),(s,w)=>(d(),c("div",{class:"border-2 border-black rounded-r-xl rounded-tl-xl p-4 mt-5 bg-gradient-to-r from-slate-100 via-white to-gray-600 flex justify-between",key:w},[e("span",K,u(s.content),1),e("span",P,"ðŸ“† "+u(new Date(s.createdAt).toLocaleDateString()),1)]))),128))])])}}});export{z as default};
