{"version":3,"file":"index-B7en53rp.js","sources":["../../../../pages/blog/index.vue"],"sourcesContent":["<template>\n    <div>\n        <section class=\"p-5\">\n\n            <h2 class=\"text-black text-2xl mx-1 font-extrabold  relative inline-block stroke-current\">\n                📄 Blog Posts\n                <svg class=\"absolute-bottom-0.5 w-full max-h-1.5\" viewBox=\"0 0 55 5\" xmlns=\"http://www.w3.org/2000/svg\"\n                    preserveAspectRatio=\"none\">\n                    <path d=\"M0.652466 4.00002C15.8925 2.66668 48.0351 0.400018 54.6853 2.00002\" strokeWidth=\"2\"></path>\n                </svg>\n            </h2>\n            <ul className=\"mt-2\">\n\n\n                <li class=\"flex justify-between p-2 border-b-2 border-b-black hover:text-amber-800 hover:border-b-amber-600\"\n                    v-for=\"(post, index) in posts\" :key=\"post.slug\">\n                    <NuxtLink :to=\"'/blog/' + post.slug + ''\">{{ iconPost[index] ?? '💠' }} {{ post.title }}</NuxtLink>\n                    <span>[{{ new Date(post.createdAt).toDateString() }}]</span>\n                </li>\n\n            </ul>\n            <!-- next and previous post -->\n            <div class=\"flex justify-between mt-5\">\n                <NuxtLink v-show=\"prevShow\" :to=\"'/blog/?p=' + prevLink\" @click=\"pages = prevLink\"\n                    class=\"text-black font-bold hover:text-amber-800\">🔙 Previous </NuxtLink>\n                <span class=\"text-gray-600 font-bold \" v-show=\"!prevShow\">🔙 Previous</span>\n                    <span class=\"text-white p-1 rounded-full  bg-black font-bold\"> ( {{ pages }} / {{ postFull.totalPage }} )</span>\n                <NuxtLink v-show=\"nextShow\" :to=\"'/blog/?p=' + nextLink\" @click=\"pages = nextLink\"\n                    class=\"text-black font-bold hover:text-amber-800\">Next 🔜</NuxtLink>\n                    <span class=\"text-gray-600 font-bold \" v-show=\"!nextShow\">Next 🔜</span>\n            </div>\n\n\n\n\n        </section>\n    </div>\n</template>\n\n\n<script lang=\"ts\" setup>\nuseHead({\n    title: \"Blogs - 0xandixmb\"\n});\n\nconst posts: any = ref([]);\nconst nextLink: any = ref('');\nconst prevLink: any = ref('');\nconst nextShow = ref(true);\nconst prevShow = ref(false);\nconst postFull = ref([]);\n\n\n\nconst iconPost: any = ref({\n    0: '🔥',\n    1: '1️⃣',\n    2: '2️⃣',\n    3: '3️⃣',\n    4: '4️⃣',\n    5: '5️⃣',\n    6: '6️⃣',\n    7: '7️⃣',\n    8: '8️⃣',\n    9: '9️⃣',\n    10: '🔟',\n});\n\nconst route = useRoute();\nconst pages: any = ref(1);\n\nconst getPostData = async (page: any) => {\n    const getPost: any = await $fetch('/api/post?method=pagination&page=' + page);\n    posts.value = getPost.body;\n    nextLink.value = (parseInt(page) + 1);\n    prevLink.value = (parseInt(page) - 1);\n    postFull.value = getPost;\n    pages.value = page;\n    if(page <= 1){\n        prevShow.value = false;\n    }else{\n        prevShow.value = true;\n    }\n    if(page >= postFull.value.totalPage){\n        nextShow.value = false;\n    }else{\n        nextShow.value = true;\n    }\n\n};\n\nwatch(pages, async (value) => {\n    await getPostData(value);\n    let ps: any = postFull.value;\n\n    if (value >= ps.totalPage) {\n        nextShow.value = false;\n    } else {\n        nextShow.value = true;\n\n    }\n    if (value <= 1) {\n        prevShow.value = false;\n    } else {\n        prevShow.value = true;\n    }\n\n});\n\nonMounted(async () => {\n    let page = route.query.p ?? 1;\n    pages.value = page;\n    \n    await getPostData(pages.value);\n\n});\n\n\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAyCQ,YAAA;AAAA,MACJ,OAAO;AAAA,IAAA,CACV;AAEK,UAAA,QAAa,IAAI,CAAA,CAAE;AACnB,UAAA,WAAgB,IAAI,EAAE;AACtB,UAAA,WAAgB,IAAI,EAAE;AACtB,UAAA,WAAW,IAAI,IAAI;AACnB,UAAA,WAAW,IAAI,KAAK;AACpB,UAAA,WAAW,IAAI,CAAA,CAAE;AAIvB,UAAM,WAAgB,IAAI;AAAA,MACtB,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH,IAAI;AAAA,IAAA,CACP;AAEa,aAAS;AACjB,UAAA,QAAa,IAAI,CAAC;AAElB,UAAA,cAAc,OAAO,SAAc;AACrC,YAAM,UAAe,MAAM,OAAO,sCAAsC,IAAI;AAC5E,YAAM,QAAQ,QAAQ;AACb,eAAA,QAAS,SAAS,IAAI,IAAI;AAC1B,eAAA,QAAS,SAAS,IAAI,IAAI;AACnC,eAAS,QAAQ;AACjB,YAAM,QAAQ;AACd,UAAG,QAAQ,GAAE;AACT,iBAAS,QAAQ;AAAA,MAAA,OAChB;AACD,iBAAS,QAAQ;AAAA,MACrB;AACG,UAAA,QAAQ,SAAS,MAAM,WAAU;AAChC,iBAAS,QAAQ;AAAA,MAAA,OAChB;AACD,iBAAS,QAAQ;AAAA,MACrB;AAAA,IAAA;AAIE,UAAA,OAAO,OAAO,UAAU;AAC1B,YAAM,YAAY,KAAK;AACvB,UAAI,KAAU,SAAS;AAEnB,UAAA,SAAS,GAAG,WAAW;AACvB,iBAAS,QAAQ;AAAA,MAAA,OACd;AACH,iBAAS,QAAQ;AAAA,MAErB;AACA,UAAI,SAAS,GAAG;AACZ,iBAAS,QAAQ;AAAA,MAAA,OACd;AACH,iBAAS,QAAQ;AAAA,MACrB;AAAA,IAAA,CAEH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}