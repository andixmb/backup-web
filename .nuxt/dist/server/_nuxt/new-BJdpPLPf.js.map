{"version":3,"file":"new-BJdpPLPf.js","sources":["../../../../pages/blog/new.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"container p-5\">\n            <h2 class=\"text-black text-2xl mx-1 font-extrabold  relative inline-block stroke-current mb-5\">\n                âž• New Post\n                <svg class=\"absolute-bottom-0.5 w-full max-h-1.5\" viewBox=\"0 0 55 5\" xmlns=\"http://www.w3.org/2000/svg\"\n                    preserveAspectRatio=\"none\">\n                    <path d=\"M0.652466 4.00002C15.8925 2.66668 48.0351 0.400018 54.6853 2.00002\" strokeWidth=\"2\"></path>\n                </svg>\n            </h2>\n            <div v-if=\"isSuccessful\" class=\"bg-green-300 p-2 text-black m-2\" v-html=\"message\"></div>\n\n            <form class=\"shadow rounded-lg p-5 m-5\" @submit.prevent=\"createPost\">\n                <div class=\"mb-2\">\n                <label htmlFor=\"name\">Title</label>\n                <input type=\"text\"  class=\"w-full p-2 border-2 border-black shadow hover:border-blue-500 focus:border-blue-500\" v-model=\"title\"/>\n                </div>\n                <div class=\"mb-2\">\n                <label htmlFor=\"name\">Content</label>\n               \n                <textarea class=\"w-full p-2 border-2 border-black shadow hover:border-blue-500 focus:border-blue-500 h-60\" v-model=\"content\"></textarea>\n\n                </div>\n                <div class=\"mb-2\">\n                <label htmlFor=\"name\">Author</label>\n                <input type=\"text\"  class=\"w-full p-2 border-2 border-black shadow hover:border-blue-500 focus:border-blue-500\" v-model=\"author\"/>\n                </div> \n                <div class=\"mb-2\">\n                <label htmlFor=\"name\">Password</label>\n                <input type=\"text\"  class=\"w-full p-2 border-2 border-black shadow hover:border-blue-500 focus:border-blue-500\" v-model=\"password\"/>\n                </div>  \n                <div class=\"mb-2\">\n                <NuxtTurnstile v-model=\"token\" />\n                </div>\n\n                <button class=\"mt-4 p-2 bg-black text-white  hover:bg-gray-600 w-full\" type=\"submit\">Create</button>\n            \n            </form>\n\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport type TiptapEditor from '~/components/TiptapEditor.vue';\n\nconst title = ref('');\nconst content = ref('');\nconst author = ref('');\nconst token = ref('');\nconst password = ref('');\nconst isSuccessful = ref(false);\nconst message = ref('');\nconst config = useRuntimeConfig();\n\n\n\n\nconst createPost = async() => {\n    const res: any = await $fetch('/api/post',\n        {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: {\n                title: title.value,\n                content: content.value,\n                author: author.value,\n                token: token.value,\n                password: password.value\n            \n            }\n        }\n    );\n    if(res.statusCode == 200)\n    {\n        isSuccessful.value = true;\n        message.value = \"Your post link is : <a href='\"+config.public.baseUrl+\"/blog/\"+res.body.slug+\"'>\"+config.public.baseUrl+\"/blog/\"+res.body.slug+\"</a>\";\n    }\n}\n\n</script>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AA8CM,UAAA,QAAQ,IAAI,EAAE;AACd,UAAA,UAAU,IAAI,EAAE;AAChB,UAAA,SAAS,IAAI,EAAE;AACf,UAAA,QAAQ,IAAI,EAAE;AACd,UAAA,WAAW,IAAI,EAAE;AACjB,UAAA,eAAe,IAAI,KAAK;AACxB,UAAA,UAAU,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;"}